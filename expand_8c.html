<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Minishell: expand.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
	DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Minishell
   </div>
   <div id="projectbrief">As beautiful as shell</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('expand_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">expand.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to exec different expansions depending on token type.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a03dd1a5a308818d276b3f79fb8fde1f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expand_8c.html#a03dd1a5a308818d276b3f79fb8fde1f8">ft_expand_tkn_lst</a> (<a class="el" href="structs__tkn__list.html">t_tkn_list</a> **head, <a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *env_table, <a class="el" href="structs__buf.html">t_buf</a> *buf)</td></tr>
<tr class="memdesc:a03dd1a5a308818d276b3f79fb8fde1f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loop through token list and expand content.  <a href="expand_8c.html#a03dd1a5a308818d276b3f79fb8fde1f8">More...</a><br /></td></tr>
<tr class="separator:a03dd1a5a308818d276b3f79fb8fde1f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff4210df1b12dc330e9f751b44d6352"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expand_8c.html#a2ff4210df1b12dc330e9f751b44d6352">ft_expand_heredoc</a> (<a class="el" href="structs__tkn__list.html">t_tkn_list</a> **node)</td></tr>
<tr class="memdesc:a2ff4210df1b12dc330e9f751b44d6352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expands token after HEREDOC = delim.  <a href="expand_8c.html#a2ff4210df1b12dc330e9f751b44d6352">More...</a><br /></td></tr>
<tr class="separator:a2ff4210df1b12dc330e9f751b44d6352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab97f8fdf06c8ef87653a8c65f55fc3a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expand_8c.html#ab97f8fdf06c8ef87653a8c65f55fc3a9">ft_expand_redirect</a> (<a class="el" href="structs__tkn__list.html">t_tkn_list</a> **node, <a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *symtab)</td></tr>
<tr class="memdesc:ab97f8fdf06c8ef87653a8c65f55fc3a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expands token after REDIRECT = Infile, Outfile.  <a href="expand_8c.html#ab97f8fdf06c8ef87653a8c65f55fc3a9">More...</a><br /></td></tr>
<tr class="separator:ab97f8fdf06c8ef87653a8c65f55fc3a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a43e57dc454cf7adb25638378a87b24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expand_8c.html#a1a43e57dc454cf7adb25638378a87b24">ft_expand_assign</a> (<a class="el" href="structs__tkn__list.html">t_tkn_list</a> **node, <a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *symtab)</td></tr>
<tr class="memdesc:a1a43e57dc454cf7adb25638378a87b24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expands ASSIGN token.  <a href="expand_8c.html#a1a43e57dc454cf7adb25638378a87b24">More...</a><br /></td></tr>
<tr class="separator:a1a43e57dc454cf7adb25638378a87b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a463997fa3bd2a3e48c0529b79e371fe3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expand_8c.html#a463997fa3bd2a3e48c0529b79e371fe3">ft_expand_arg</a> (<a class="el" href="structs__tkn__list.html">t_tkn_list</a> **node, <a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *symtab, <a class="el" href="structs__buf.html">t_buf</a> *buf)</td></tr>
<tr class="memdesc:a463997fa3bd2a3e48c0529b79e371fe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expands ARG token.  <a href="expand_8c.html#a463997fa3bd2a3e48c0529b79e371fe3">More...</a><br /></td></tr>
<tr class="separator:a463997fa3bd2a3e48c0529b79e371fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions to exec different expansions depending on token type. </p>
<p>Contains driver function to handle expansion and quote removal.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a463997fa3bd2a3e48c0529b79e371fe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a463997fa3bd2a3e48c0529b79e371fe3">&#9670;&nbsp;</a></span>ft_expand_arg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_expand_arg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__tkn__list.html">t_tkn_list</a> **&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *&#160;</td>
          <td class="paramname"><em>symtab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structs__buf.html">t_buf</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expands ARG token. </p>
<p>Init tracker with <a class="el" href="expand__utils_8c.html#ac3df1fbb0f2bc0b6dce3b82e72ef36f8" title="Initialize a tracker.">ft_init_tracker()</a>. Expand and quote removal with ft_expander(). If expansion on unquoted dollar: check with <a class="el" href="expand__field__split_8c.html#abd730b466be5a02e1859817857f989d9" title="Splits an expanded node into several words.">ft_field_split()</a> if node has to be split. If <a class="el" href="expand__field__split_8c.html#abd730b466be5a02e1859817857f989d9" title="Splits an expanded node into several words.">ft_field_split()</a> fires it resets the tracker to the last node of the split to continue expansion. If expanded node is empty, and no quotes found set type to DELETE. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Pointer to ARG token. </td></tr>
    <tr><td class="paramname">symtab</td><td>Environment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_MALLOC </dd></dl>

</div>
</div>
<a id="a1a43e57dc454cf7adb25638378a87b24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a43e57dc454cf7adb25638378a87b24">&#9670;&nbsp;</a></span>ft_expand_assign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_expand_assign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__tkn__list.html">t_tkn_list</a> **&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *&#160;</td>
          <td class="paramname"><em>symtab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expands ASSIGN token. </p>
<p>Init tracker with <a class="el" href="expand__utils_8c.html#ac3df1fbb0f2bc0b6dce3b82e72ef36f8" title="Initialize a tracker.">ft_init_tracker()</a>. Expand and quote removal with ft_expander(). Set type to ARG to not coonfuse parser. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">list</td><td>Pointer to ASSIGN node. </td></tr>
    <tr><td class="paramname">symtab</td><td>Environment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_MALLOC </dd></dl>

</div>
</div>
<a id="a2ff4210df1b12dc330e9f751b44d6352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff4210df1b12dc330e9f751b44d6352">&#9670;&nbsp;</a></span>ft_expand_heredoc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_expand_heredoc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__tkn__list.html">t_tkn_list</a> **&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expands token after HEREDOC = delim. </p>
<p>Move forward a node. Init tracker with <a class="el" href="expand__utils_8c.html#ac3df1fbb0f2bc0b6dce3b82e72ef36f8" title="Initialize a tracker.">ft_init_tracker()</a>. Remove quotes of heredoc delim. If quotes were found in delim, set type prev node to QUOTEDOC. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Pointer to HEREDOC node. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS </dd></dl>

</div>
</div>
<a id="ab97f8fdf06c8ef87653a8c65f55fc3a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab97f8fdf06c8ef87653a8c65f55fc3a9">&#9670;&nbsp;</a></span>ft_expand_redirect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_expand_redirect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__tkn__list.html">t_tkn_list</a> **&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *&#160;</td>
          <td class="paramname"><em>symtab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expands token after REDIRECT = Infile, Outfile. </p>
<p>Move forward a node. Init tracker with <a class="el" href="expand__utils_8c.html#ac3df1fbb0f2bc0b6dce3b82e72ef36f8" title="Initialize a tracker.">ft_init_tracker()</a>. Expand and quote removal with ft_expander(). If expanded token is empty and was not quoted, change type of previous node (containing redirect symbol) to AMBIGUOUS. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Pointer to REDIRECT node. </td></tr>
    <tr><td class="paramname">symtab</td><td>Environment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_MALLOC </dd></dl>

</div>
</div>
<a id="a03dd1a5a308818d276b3f79fb8fde1f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03dd1a5a308818d276b3f79fb8fde1f8">&#9670;&nbsp;</a></span>ft_expand_tkn_lst()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_expand_tkn_lst </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__tkn__list.html">t_tkn_list</a> **&#160;</td>
          <td class="paramname"><em>head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *&#160;</td>
          <td class="paramname"><em>env_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structs__buf.html">t_buf</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loop through token list and expand content. </p>
<p>Depending on type of token perform expansions: Redirect: tilde and dollar expand, quote removal, flag if AMBIGUOUS. Heredoc: quote removal. Assign: tilde after = and dollar expand, quote removal, set type to ARG. Arg: tilde and dollar expand, field split, quote removal, flag if DELETE. Loop through with tmp. Since the list itself can change (new nodes added after field split) the head pointer needs to be updated after loop. At the end deletes all nodes of type DELETE. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">head</td><td>Pointer pointer to head of list. </td></tr>
    <tr><td class="paramname">env_table</td><td>Environment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_MALLOC. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="expand_8c.html">expand.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
