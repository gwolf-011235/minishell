<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Minishell: prompt_create.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
	DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Minishell
   </div>
   <div id="projectbrief">As beautiful as shell</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('prompt__create_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">prompt_create.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Create and expand a prompt string.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa87dca583890cfca26a5d2bb452886ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="prompt__create_8c.html#aa87dca583890cfca26a5d2bb452886ba">ft_get_replace</a> (char **replacement, unsigned char target, <a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *sym_tab)</td></tr>
<tr class="memdesc:aa87dca583890cfca26a5d2bb452886ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Malloc replacement string for provided token.  <a href="prompt__create_8c.html#aa87dca583890cfca26a5d2bb452886ba">More...</a><br /></td></tr>
<tr class="separator:aa87dca583890cfca26a5d2bb452886ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d36cd625a4e25b59f853a9e1ca57a4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="prompt__create_8c.html#a4d36cd625a4e25b59f853a9e1ca57a4a">ft_get_token</a> (char **token, unsigned char target)</td></tr>
<tr class="memdesc:a4d36cd625a4e25b59f853a9e1ca57a4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign corresponding token string.  <a href="prompt__create_8c.html#a4d36cd625a4e25b59f853a9e1ca57a4a">More...</a><br /></td></tr>
<tr class="separator:a4d36cd625a4e25b59f853a9e1ca57a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1606c53415a04f230ee2ab2eaf046bd5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="prompt__create_8c.html#a1606c53415a04f230ee2ab2eaf046bd5">ft_search_token</a> (const char *ps_string, char **token)</td></tr>
<tr class="memdesc:a1606c53415a04f230ee2ab2eaf046bd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search string for occurence of token.  <a href="prompt__create_8c.html#a1606c53415a04f230ee2ab2eaf046bd5">More...</a><br /></td></tr>
<tr class="separator:a1606c53415a04f230ee2ab2eaf046bd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150f1b0320c638ae1d05f6af6cb231f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="prompt__create_8c.html#a150f1b0320c638ae1d05f6af6cb231f7">ft_expand_prompt_str</a> (char **prompt, <a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *sym_tab)</td></tr>
<tr class="memdesc:a150f1b0320c638ae1d05f6af6cb231f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expands the provided prompt string.  <a href="prompt__create_8c.html#a150f1b0320c638ae1d05f6af6cb231f7">More...</a><br /></td></tr>
<tr class="separator:a150f1b0320c638ae1d05f6af6cb231f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dd0a4fdc3f5aef6997d3b8f6d68f39d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="prompt__create_8c.html#a1dd0a4fdc3f5aef6997d3b8f6d68f39d">ft_prompt_create</a> (<a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *sym_tab, char **prompt, char *ps, char *std)</td></tr>
<tr class="memdesc:a1dd0a4fdc3f5aef6997d3b8f6d68f39d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a prompt string which gets expanded.  <a href="prompt__create_8c.html#a1dd0a4fdc3f5aef6997d3b8f6d68f39d">More...</a><br /></td></tr>
<tr class="separator:a1dd0a4fdc3f5aef6997d3b8f6d68f39d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Create and expand a prompt string. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a150f1b0320c638ae1d05f6af6cb231f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a150f1b0320c638ae1d05f6af6cb231f7">&#9670;&nbsp;</a></span>ft_expand_prompt_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_expand_prompt_str </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>prompt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *&#160;</td>
          <td class="paramname"><em>sym_tab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expands the provided prompt string. </p>
<p>In infinite loop: Search for token with <a class="el" href="prompt__create_8c.html#a1606c53415a04f230ee2ab2eaf046bd5" title="Search string for occurence of token.">ft_search_token()</a>. Create replacement with <a class="el" href="prompt__create_8c.html#aa87dca583890cfca26a5d2bb452886ba" title="Malloc replacement string for provided token.">ft_get_replace()</a>. Replace token with <a class="el" href="prompt__replace__token_8c.html#a47a8b69f98bb36e0c974f848e56bcb89" title="This function finds token in str and replaces it.">ft_replace_token()</a>. If no token is found (anymore) break out.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prompt</td><td>This gets searched and expanded. </td></tr>
    <tr><td class="paramname">sym_tab</td><td>Symbols which can are used to expand. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_EMPTY, ERR_MALLOC </dd></dl>

</div>
</div>
<a id="aa87dca583890cfca26a5d2bb452886ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa87dca583890cfca26a5d2bb452886ba">&#9670;&nbsp;</a></span>ft_get_replace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_get_replace </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>replacement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *&#160;</td>
          <td class="paramname"><em>sym_tab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Malloc replacement string for provided token. </p>
<p>Uses look up table of function pointers. Target is char after backslash of token. It is used as index. The pointed to functions malloc the replacement string. Since they are t_err functions they can be returned. The first function is for wrong tokens = empty string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">replacement</td><td>Where to save the string </td></tr>
    <tr><td class="paramname">target</td><td>Which function to use of look up table. </td></tr>
    <tr><td class="paramname">sym_tab</td><td>Symbols needed for some replacement functions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_EMPTY, ERR_MALLOC </dd></dl>

</div>
</div>
<a id="a4d36cd625a4e25b59f853a9e1ca57a4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d36cd625a4e25b59f853a9e1ca57a4a">&#9670;&nbsp;</a></span>ft_get_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_get_token </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assign corresponding token string. </p>
<p>Uses a look up table, where target char correspondends to string. Token strings are defined in <a class="el" href="minishell_8h.html" title="Overarching header.">minishell.h</a>. The first string is for not recognised token.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td>Where to assign string. </td></tr>
    <tr><td class="paramname">target</td><td>Which string shall be assigned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_EMPTY, ERR_OUT_OF_BOUNDS, ERR_WRONG_TOKEN </dd></dl>

</div>
</div>
<a id="a1dd0a4fdc3f5aef6997d3b8f6d68f39d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dd0a4fdc3f5aef6997d3b8f6d68f39d">&#9670;&nbsp;</a></span>ft_prompt_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_prompt_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#a8b759f1e47ce645b9b2a303343051848">t_hashtable</a> *&#160;</td>
          <td class="paramname"><em>sym_tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>prompt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>ps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>std</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a prompt string which gets expanded. </p>
<p>Search for provided var $PS1 or $PS2 in sym_tab. If not found create prompt with provided standard. If found ft_strdup() value of var. Expand the string with <a class="el" href="prompt__create_8c.html#a150f1b0320c638ae1d05f6af6cb231f7" title="Expands the provided prompt string.">ft_expand_prompt_str()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sym_tab</td><td>Symbol table where to search. </td></tr>
    <tr><td class="paramname">prompt</td><td>Where to save the prompt. </td></tr>
    <tr><td class="paramname">ps</td><td>Prompt string variable $PS1 or $PS2. </td></tr>
    <tr><td class="paramname">std</td><td>Standard string if ps is not found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_MALLOC, ERR_EMPTY </dd></dl>

</div>
</div>
<a id="a1606c53415a04f230ee2ab2eaf046bd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1606c53415a04f230ee2ab2eaf046bd5">&#9670;&nbsp;</a></span>ft_search_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_search_token </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ps_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search string for occurence of token. </p>
<p>First searches for backslash in prompt string. If not found return. If backslash is found get token string for next char using <a class="el" href="prompt__create_8c.html#a4d36cd625a4e25b59f853a9e1ca57a4a" title="Assign corresponding token string.">ft_get_token()</a>. If char is '\0' error msg is printed and empty string assigned. If char is not recognised error msg is printed and empty string assigned. Empty string helps to break out of loop in <a class="el" href="prompt__create_8c.html#a150f1b0320c638ae1d05f6af6cb231f7" title="Expands the provided prompt string.">ft_expand_prompt_str()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ps_string</td><td>The prompt string which gets searched. </td></tr>
    <tr><td class="paramname">token</td><td>Here the token string is assigned to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_EMPTY, ERR_OUT_OF_BOUNDS, ERR_WRONG_TOKEN </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="prompt__create_8c.html">prompt_create.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
