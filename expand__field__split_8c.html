<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Minishell: expand_field_split.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
	DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Minishell
   </div>
   <div id="projectbrief">As beautiful as shell</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('expand__field__split_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">expand_field_split.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to perform field splitting on expanded parts of str.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae6593021f7e849cbfd97f6c87536169f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expand__field__split_8c.html#ae6593021f7e849cbfd97f6c87536169f">ft_field_split</a> (<a class="el" href="structs__track.html">t_track</a> *input, <a class="el" href="structs__tkn__list.html">t_tkn_list</a> **cur_node)</td></tr>
<tr class="memdesc:ae6593021f7e849cbfd97f6c87536169f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splits an expanded node into several words.  <a href="expand__field__split_8c.html#ae6593021f7e849cbfd97f6c87536169f">More...</a><br /></td></tr>
<tr class="separator:ae6593021f7e849cbfd97f6c87536169f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089bdc29cca8236d16fc0f8ec2834090"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expand__field__split_8c.html#a089bdc29cca8236d16fc0f8ec2834090">ft_count_expand_words</a> (<a class="el" href="structs__track.html">t_track</a> *input, size_t *words, int last_expand_len)</td></tr>
<tr class="memdesc:a089bdc29cca8236d16fc0f8ec2834090"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count how many words will be after splitting.  <a href="expand__field__split_8c.html#a089bdc29cca8236d16fc0f8ec2834090">More...</a><br /></td></tr>
<tr class="separator:a089bdc29cca8236d16fc0f8ec2834090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a502cebbcb46ba6a59ed864db9e53426a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expand__field__split_8c.html#a502cebbcb46ba6a59ed864db9e53426a">ft_split_node</a> (<a class="el" href="structs__track.html">t_track</a> *input, <a class="el" href="structs__tkn__list.html">t_tkn_list</a> **cur_node, <a class="el" href="structs__buf.html">t_buf</a> *buf)</td></tr>
<tr class="memdesc:a502cebbcb46ba6a59ed864db9e53426a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split a node into words.  <a href="expand__field__split_8c.html#a502cebbcb46ba6a59ed864db9e53426a">More...</a><br /></td></tr>
<tr class="separator:a502cebbcb46ba6a59ed864db9e53426a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7589b71446822a42d664bf3e9f6d71c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expand__field__split_8c.html#a7589b71446822a42d664bf3e9f6d71c4">ft_tokenise_fs</a> (<a class="el" href="structs__src.html">t_src</a> *src, <a class="el" href="structs__tok.html">t_tok</a> *token, <a class="el" href="structs__buf.html">t_buf</a> *buf, <a class="el" href="structs__track.html">t_track</a> *input)</td></tr>
<tr class="memdesc:a7589b71446822a42d664bf3e9f6d71c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tokenise a string while field split.  <a href="expand__field__split_8c.html#a7589b71446822a42d664bf3e9f6d71c4">More...</a><br /></td></tr>
<tr class="separator:a7589b71446822a42d664bf3e9f6d71c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c7cf47f9932b278f1b7ec92af982855"><td class="memItemLeft" align="right" valign="top"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="expand__field__split_8c.html#a4c7cf47f9932b278f1b7ec92af982855">ft_partition_fs</a> (<a class="el" href="structs__src.html">t_src</a> *src, <a class="el" href="structs__buf.html">t_buf</a> *buf)</td></tr>
<tr class="memdesc:a4c7cf47f9932b278f1b7ec92af982855"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills buffer with a piece of string.  <a href="expand__field__split_8c.html#a4c7cf47f9932b278f1b7ec92af982855">More...</a><br /></td></tr>
<tr class="separator:a4c7cf47f9932b278f1b7ec92af982855"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions to perform field splitting on expanded parts of str. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a089bdc29cca8236d16fc0f8ec2834090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a089bdc29cca8236d16fc0f8ec2834090">&#9670;&nbsp;</a></span>ft_count_expand_words()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_count_expand_words </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__track.html">t_track</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>words</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>last_expand_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Count how many words will be after splitting. </p>
<p>Set tracker-&gt;pos to beginning of expanded part. If the pos is bigger than 0, then something is before expanded part -&gt; Set words to one and skip all spaces to get to next word. Looping through the str, delimited by expand len: If pos is 0 and str is not space incr words. If str is space but the next pos isn't incr words. If expanded part ends with space and there is still stuff incr words. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>Pointer to tracker. </td></tr>
    <tr><td class="paramname">words</td><td>Pointer to where to save count: </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS </dd></dl>

</div>
</div>
<a id="ae6593021f7e849cbfd97f6c87536169f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6593021f7e849cbfd97f6c87536169f">&#9670;&nbsp;</a></span>ft_field_split()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_field_split </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__track.html">t_track</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structs__tkn__list.html">t_tkn_list</a> **&#160;</td>
          <td class="paramname"><em>cur_node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Splits an expanded node into several words. </p>
<p>Count the words with <a class="el" href="expand__field__split_8c.html#a089bdc29cca8236d16fc0f8ec2834090" title="Count how many words will be after splitting.">ft_count_expand_words()</a>. If one word return. If more words: Setup buffer with <a class="el" href="buffer_8c.html#a738f6fd9290967f972da877e935cb8d8" title="Initiates a t_buf buffer.">ft_buf_init()</a>. Split into several words with <a class="el" href="expand__field__split_8c.html#a502cebbcb46ba6a59ed864db9e53426a" title="Split a node into words.">ft_split_node()</a>. Del old node with <a class="el" href="tkn__list__delete_8c.html#aa5201968cffc26a3d466da70ff1ad8e4" title="Iterates n nodes back and deletes found node.">ft_del_prev_n()</a> and update list pointer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>Pointer to tracker. </td></tr>
    <tr><td class="paramname">cur_node</td><td>Pointer pointer to the current node. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_MALLOC. </dd></dl>

</div>
</div>
<a id="a4c7cf47f9932b278f1b7ec92af982855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c7cf47f9932b278f1b7ec92af982855">&#9670;&nbsp;</a></span>ft_partition_fs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_partition_fs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__src.html">t_src</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structs__buf.html">t_buf</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fills buffer with a piece of string. </p>
<p>Based on <a class="el" href="lexer__tok_8c.html#ab2350d638595dca0ab50e098994f7cb4" title="Iterate through input string and step out at predefined delimiters.">ft_partition()</a>, adapted for field split. Difference: has fewer break conditions since expanded chars don't have special meaning anymore. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>The tokenized string. </td></tr>
    <tr><td class="paramname">buf</td><td>Pointer to pre malloced buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_MALLOC, ERR_EOF </dd></dl>

</div>
</div>
<a id="a502cebbcb46ba6a59ed864db9e53426a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a502cebbcb46ba6a59ed864db9e53426a">&#9670;&nbsp;</a></span>ft_split_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_split_node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__track.html">t_track</a> *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structs__tkn__list.html">t_tkn_list</a> **&#160;</td>
          <td class="paramname"><em>cur_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structs__buf.html">t_buf</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Split a node into words. </p>
<p>Based on ft_lex_input(). Calc pos beforen expansion. If not zero copy everything before expand into buf. Init t_src with ft_init_lexer() where len is expand_len. Use ft_better_tokenize() to create token. In loop add node and call ft_better_tokenize() again. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>Pointer to tracker. </td></tr>
    <tr><td class="paramname">cur_node</td><td>Pointer to the current node. </td></tr>
    <tr><td class="paramname">buf</td><td>Pointer to buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_MALLOC. </dd></dl>

</div>
</div>
<a id="a7589b71446822a42d664bf3e9f6d71c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7589b71446822a42d664bf3e9f6d71c4">&#9670;&nbsp;</a></span>ft_tokenise_fs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="minishell__error_8h.html#ab40f6b0320b416162d7f6d5eed804232">t_err</a> ft_tokenise_fs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__src.html">t_src</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structs__tok.html">t_tok</a> *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structs__buf.html">t_buf</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structs__track.html">t_track</a> *&#160;</td>
          <td class="paramname"><em>input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tokenise a string while field split. </p>
<p>Based on <a class="el" href="lexer__tok_8c.html#af8ad18831249c95820568a9a7954de2c" title="Overarching function to create a token.">ft_tokenise()</a>, adapted for field split. Uses partition_fs() to fill buffer. Creates a new token with <a class="el" href="lexer__tok_8c.html#a3d4589c2e9018842b50a7fa65fc71208" title="Create a token.">ft_create_tok()</a>. If field splitting is at end of expand_len (src_&gt;cur_pos == src_buf_size) and after the expansion are chars, it gets copied into buffer with <a class="el" href="buffer_8c.html#a3abe6c7d6ae60291d16ef610ab1f1e92" title="Copy str into buffer using strlcpy.">ft_buf_strlcpy()</a> before last token is created. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>The string to tokenize. </td></tr>
    <tr><td class="paramname">token</td><td>Where to save the token. </td></tr>
    <tr><td class="paramname">buf</td><td>A pre malloced buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>t_err SUCCESS, ERR_EMPTY, ERR_MALLOC, ERR_EOF </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="expand__field__split_8c.html">expand_field_split.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
